:root {
    --navbar-height: 4rem;
    --navbar-blur: 16px;
}

.site-header {
    position: fixed;
    inset-block-start: 0;
    inset-inline: 0;
    block-size: var(--navbar-height);
    z-index: 100;
    background: oklch(0.995 0.01 106.42 / 0.95);
}

.navbar {
    position: relative;
    block-size: 100%;
}

.navbar__glass {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    background:
        linear-gradient(to bottom, oklch(0.995 0.01 106.42), transparent 55%),
        oklch(1 0 106.42 / .55);
}

/* Glass morphism effect for modern browsers */
@supports (backdrop-filter: blur(var(--navbar-blur))) {
    .site-header {
        background: transparent;
    }

    .navbar__glass {
        -webkit-backdrop-filter: blur(var(--navbar-blur));
        backdrop-filter: blur(var(--navbar-blur));
        background: linear-gradient(to bottom,
                oklch(0.995 0.01 106.42),
                transparent 50%);
    }
}

/* Performance optimization using mask-image */
@supports (mask-image: linear-gradient(black, transparent)) {
    .navbar__glass {
        block-size: 200%;
        -webkit-mask-image: linear-gradient(to bottom,
                black 0% 50%,
                transparent 50% 100%);
        mask-image: linear-gradient(to bottom,
                black 0% 50%,
                transparent 50% 100%);
    }
}

.navbar__content {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: space-between;
    block-size: var(--navbar-height);
    padding-inline: max(1rem, 3vw);
    gap: 1rem;
}

.navbar__brand {
    font-family: 'IBM Plex Sans', sans-serif;
    font-weight: 600;
    font-size: 1.05rem;
    letter-spacing: 0.05em;
    color: var(--color-headline);
    text-decoration: none;
    transition: color 0.2s ease;
}

.navbar__brand:hover,
.navbar__brand:focus-visible {
    color: var(--color-link);
}

.navbar__links {
    display: flex;
    gap: 0.25rem;
    list-style: none;
    margin-inline-start: auto;
    padding: 0;
}

.navbar__item {
    display: contents;
}

.navbar__link {
    display: block;
    padding: 0.625rem 1rem;
    color: oklch(0.28 0.07 255);
    font-weight: 500;
    font-size: 0.9375rem;
    line-height: 1;
    letter-spacing: 0.01em;
    text-decoration: none;
    border-radius: 0.5rem;
    transition: all 0.2s ease;
}

.navbar__link:hover,
.navbar__link:focus-visible {
    background-color: oklch(0.95 0.02 255 / 0.5);
    color: oklch(0.25 0.08 255);
}

.navbar__toggle {
    display: none;
    place-items: center;
    inline-size: 2.5rem;
    block-size: 2.5rem;
    padding: 0;
    background: transparent;
    border: 0;
    border-radius: 0.5rem;
    color: var(--color-headline);
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.navbar__toggle:hover,
.navbar__toggle:focus-visible {
    background-color: oklch(0.95 0.02 255 / 0.3);
}

.navbar__toggle svg {
    fill: currentColor;
    display: block;
}

/* Mobile responsive styles */
@media (max-width: 48rem) {
    :root {
        --navbar-height: 4.5rem;
    }

    .navbar__brand {
        font-size: 1.125rem;
        letter-spacing: 0.03em;
    }

    .navbar__links {
        display: none;
    }

    .navbar__toggle {
        display: inline-grid;
    }

    .navbar__links--open {
        position: absolute;
        inset-inline: 1rem;
        inset-block-start: calc(100% + 0.5rem);
        z-index: 1000;
        display: grid;
        gap: 0.25rem;
        padding: 0.5rem;
        border: 1px solid oklch(0 0 0 / 0.08);
        border-radius: 1rem;
        background: oklch(1 0 106.42 / 0.55);
        -webkit-backdrop-filter: blur(var(--navbar-blur));
        backdrop-filter: blur(var(--navbar-blur));
        animation: slideDown 200ms cubic-bezier(0.16, 1, 0.3, 1);
    }

    .navbar__links--open .navbar__item {
        display: block;
    }

    .navbar__links--open .navbar__link {
        inline-size: 100%;
        padding: 0.875rem 1rem;
        letter-spacing: 0.005em;
        color: var(--color-headline);
    }

    .navbar__links--open .navbar__link:hover,
    .navbar__links--open .navbar__link:focus-visible {
        background-color: oklch(0.95 0.02 255 / 0.5);
        color: oklch(0.25 0.08 255);
    }
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-0.5rem) scale(0.98);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* Accessibility: Respect user motion preferences */
@media (prefers-reduced-motion: reduce) {
    .navbar__links--open {
        animation: none;
    }

    .navbar__link,
    .navbar__brand,
    .navbar__toggle {
        transition: none;
    }
}

/* Accessibility: Respect user transparency preferences */
@media (prefers-reduced-transparency: reduce) {
    .navbar__glass,
    .navbar__links--open {
        -webkit-backdrop-filter: none;
        backdrop-filter: none;
        background: oklch(0.995 0.01 106.42);
    }
}
