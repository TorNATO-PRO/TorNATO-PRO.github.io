---
const { id = "fade-container" } = Astro.props;
---

<div id={id} class="transition-opacity duration-300">
  <slot />
</div>

<script is:inline>
  window.addEventListener('scroll', () => {
    const fade = document.getElementById('{id}');
    if (!fade) return;
    const offset = window.scrollY;
    const opacity = Math.max(1 - offset / 300, 0);
    fade.style.opacity = opacity.toString();
  });
</script>
